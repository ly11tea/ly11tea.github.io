<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta property="og:type" content="website">
<meta property="og:title" content="Luo's blog">
<meta property="og:url" content="https://ly11tea.github.io/index.html">
<meta property="og:site_name" content="Luo's blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Luo's blog">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://ly11tea.github.io/"/>

  <title> Luo's blog </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?ee6095b761314f862c509f6d3d27dad6";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">Luo's blog</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-episode">
          <a href="/categories/短/index.html" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-comment-o"></i> <br />
            
            短
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>


    </div>
  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/17/在ubuntu下使用SS并给gnome-terminal-git加上代理/" itemprop="url">
                  在ubuntu下使用SS并给gnome,terminal,git加上代理
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-17T23:37:27+08:00" content="2016-10-17">
              2016-10-17
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/17/在ubuntu下使用SS并给gnome-terminal-git加上代理/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/17/在ubuntu下使用SS并给gnome-terminal-git加上代理/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>因为要编译google的slam库cartographer,所以要挂代理在google的git上下载一些源码,配置过程如下:</p>
<h1 id="下载ss-qt5-gui"><a href="#下载ss-qt5-gui" class="headerlink" title="下载ss-qt5 gui"></a>下载ss-qt5 gui</h1><p>其实也可以使用命令行的ss,为了方便还是使用图形版的:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo add-apt-repository ppa:hzwhuang/ss-qt5</div><div class="line">sudo apt-get update</div><div class="line">sudo apt-get install shadowsocks-qt5</div></pre></td></tr></table></figure></p>
<p>这里补充一下,如果使用apt由于包冲突不能够安装,可以选择aptitude,它能够详细分析包的依赖性,并提供多种安装方案:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install aptitude</div><div class="line">sudo aptitude update</div><div class="line">sudo aptitude  install XXX</div></pre></td></tr></table></figure></p>
<p>下载完成后,界面和windows版几乎一致,连接到ss服务器后,将在本地转发的服务器类型设为http(s).ubuntu下并不会帮你在系统内设置全局代理,接下来还需要自己配置</p>
<h1 id="设置Gnome的代理"><a href="#设置Gnome的代理" class="headerlink" title="设置Gnome的代理"></a>设置Gnome的代理</h1><p>进入系统设置中选择网络,可以看到代理服务器的设置项,设置好后.如果浏览器等设为跟随系统代理设置,则已经能够使用ss.</p>
<h1 id="设置terminal的代理"><a href="#设置terminal的代理" class="headerlink" title="设置terminal的代理"></a>设置terminal的代理</h1><p>terminal的代理通过设置几个全局变量实现:<br>如果只是在某个terminal使用一次:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">export http_proxy=http://127.0.0.1:XXXX</div><div class="line">export https_proxy=http://127.0.0.1:XXXX</div><div class="line">export ftp_proxy=http://127.0.0.1:XXXX</div></pre></td></tr></table></figure></p>
<p>使用export定义全局变量</p>
<p>当然可以加入.bashrc中</p>
<p>如果在全系统范围内使用:<br>在/etc/environment中 加入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">http_proxy=http://127.0.0.1:XXXX</div><div class="line">https_proxy=http://127.0.0.1:XXXX</div><div class="line">ftp_proxy=http://127.0.0.1:XXXX</div></pre></td></tr></table></figure></p>
<p>要测试是否有效可以安装 curl<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install curl</div><div class="line">curl icanhazip.com</div></pre></td></tr></table></figure></p>
<p>这样能返回你的外网ip,也可以使用wget测试</p>
<p>这只是一个全局变量,并不是所有的命令行工具都遵从这个参数,有时还要另行设置,如:</p>
<p>要在apt中使用:<br>在/etc/apt/apt.conf中添加:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Acquire::http::Proxy &quot;http://127.0.0.1:XXXX&quot;;</div><div class="line">Acquire::https::Proxy &quot;http://127.0.0.1:XXXX&quot;;</div><div class="line">Acquire::ftp::Proxy &quot;http://127.0.0.1:XXXX&quot;;</div></pre></td></tr></table></figure></p>
<h1 id="设置git的代理"><a href="#设置git的代理" class="headerlink" title="设置git的代理"></a>设置git的代理</h1><p>使用命令<br><code>git config --global http.proxy http://127.0.0.1:XXXX</code><br>在~/.gitconfig中可以看到相关联的字段<br>若要取消配置则可以:<br><code>git config --global http.proxy &#39;&#39;</code><br>或在.gitconfig中删除相关字段</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/15/算法4-无向图/" itemprop="url">
                  算法4 无向图
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-15T23:34:18+08:00" content="2016-10-15">
              2016-10-15
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/算法4/" itemprop="url" rel="index">
                    <span itemprop="name">算法4</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/15/算法4-无向图/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/15/算法4-无向图/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>图可能是计算机数据结构中内容最为丰富,又最为复杂的一种.它能够与我们身边许多实际事物联合起来,地图,社交关系网等等.<br>我们先来看其中最为简单的一种:无向图<br>在这种图中,边 (edge) 仅仅是两个顶点(vertex) 之间的连接<br>并且允许<strong>自环</strong>( 一条连接一个顶点和其自身的边),<strong>平行边</strong>(连接同一对顶点的两条边)的存在<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/10/15/算法4-无向图/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/12/浮点数运算/" itemprop="url">
                  浮点数运算
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-12T23:39:30+08:00" content="2016-10-12">
              2016-10-12
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/12/浮点数运算/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/12/浮点数运算/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>#浮点数运算</p>
<pre><code>有些 C 语言书上说 float 型的有效位数是 6~7 位，为什么不是 6 位或者 7 位？而是一个 变化的 6~7 位？
浮点数在内存中是如何存放的？
float 浮点数要比同为 4 字节的 int 定点数表示的范围大的多，那么是否可以使用浮点数 替代定点数？
为什么 float 型浮点数 9.87654321 &gt; 9.87654322 不成立？为何 10.2 - 9 的结果不是 1.2， 而是 1.1999998？为何 987654321 + 987.654322 的结果不是 987655308.654322？
如何才能精确比较浮点数真实的大小？
看完本文档，你将会得到答案!
</code></pre><p>C 语言浮点数<br>    C 语言标准 C89 里规定了 3 种浮点数，float 型、double 型和 long double 型，其中 float 型占 4 个字节，double 型占 8 个字节，long double 型长度要大于等于 double 型，本文档将 以 float 型为例进行介绍，double 型和 long double 型只是比 float 型位数长，原理都是一样的。<br>    float 型可以表示的范围是-3.402823466e38~3.402823466e38，而作为同为 4 个字节的定点 数却只能表示-2147483648~2147483647 的范围，使用同样的内存空间，浮点数却能比定点 数表示大得多的范围，这是不是太神奇了？既然浮点数能表示这么大的范围，那么我们为何 不使用浮点数来代替定点数呢？<br>    先不说浮点数实现起来比较复杂，有些处理器还专门配置了硬件浮点运算单元用于浮点 运算，主要原因是浮点数根本就无法取代定点数，因为精度问题。鱼和熊掌不可兼得，浮点 数表示了非常大的范围，但它失去了非常准的精度。在说明精度问题前，我们先了解一下浮 点数的格式。</p>
<p>ANSI/IEEE Std 754-1985 标准<br>    IEEE 754 是最广泛使用的二进制浮点数算术标准，被许多 CPU 与浮点运算器所采用。 IEEE 754 规定了多种表示浮点数值的方式，在本文档里只介绍 32bits 的 float 浮点类型。它 被分为 3 个部分，分别是符号位 S（sign bit）、指数偏差 E（exponent bias）和小数部分  F（fraction）。</p>
<pre><code>       S              E                                                                            F


    1bit             8bits                                                                                                   23bits


其中 S 位占 1bit，为 bit31。S 位为 0 代表浮点数是正数，S 位为 1 代表浮点数是负数， 比如说 0x449A522C 的 S 位为 0，表示这是一个正数，0x849A522C 的 S 位为 1，表示这是 一个负数。
E 位占 8bits ，为 bit23~bit30。E 位代表 2 的 N 次方，但需要减去 127，比如说 E 位为87，那么  E  位的值为  2（87-127）=9.094947017729282379150390625e-13。
F 位占 23bits，为 bit0~bit22。F 位是小数点后面的位数，其中 bit22 是 2-1=0.5，bit21 是2-2=0.25，以此类推，bit0 为 2-23=0.00000011920928955078125。但 F 位里隐藏了一个 1，也就 是 说 F 位 所 表 示 的 值 是 1+ （ F 位 bit22~bit0 所 表 示 的 数 值 ）， 比 如 说 F 位 是 0b10100000000000000000001，只有 bit22、bit20 和 bit0 为 1，那么 F 位的值为 1+(2-1+2-3+2-23)， 为 1.62500011920928955078125。
综上所述，从二进制数换算到浮点数的公式为：(-1)S×2E-127×(1+F)。但还有几个特殊 的情形：
         若 E 位为 0 并且 F 位也为 0 时表示浮点数 0，此时浮点数受 S 位影响，表现出+0 和-0 两种 0，但数值是相等的。比如二进制数 0x00000000 表示+0，二进制数 0x80000000 表 示-0。
         若 E 位为 0 并且 F 位不为 0 时浮点数为(-1)S×2-126×F，注意，E 位的指数是-126，而不 是 0-127=-127，而且 F 位是 0.xx 格式而不是 1.xx 格式，比如 0x00000001 的浮点数为2-126×2-23=1.4012984643248170709237295832899e-45，而不是    20-121×（1+2-23）。一旦E为不为 0，从 0 变为 1，不是增加 2 倍的关系，因为公式改变了。
       若 E 位为 255 并且 F 位不为 0 时表示非数值，也就是说是非法数，例如 0x7F800001。
       若 E 位为 255 并且 F 位为 0 时表示无穷大的数，此时浮点数受 S 位影响，例如 0x7F800000
        表示正无穷大，0xFF800000 表示负无穷大。当我们使用  1  个数除以  0 时，结果将被记
        作 0x7F800000。


浮点型在多个处理器间通信时，传递的数值是它的二进制数，比如说 1234.5678 这个浮 点数的二进制数是 0x449A522B，如果使用串口发送的话，就会发现串口里发送的是 0x44、 0x9A、0x52 和 0x2B 这 4 个数（发送的顺序也可能是逆序，这与约定的字节序有关，与浮 点格式无关），接收端接收到这 4 个数字后再组合成 0x449A522B，按照 IEEE 754 的定义被 解析成 1234.5678，这样就实现浮点数通信了。如果两个处理器所使用的浮点数规则不同， 则无法传递浮点数。
</code></pre><p>浮点数的换算<br>    下面来看看浮点数与二进制数如何转换。</p>
<pre><code>例 1，二进制数换算成浮点数：
假如在内存中有一个二进制数为      0x449A522C，先将十六进制转换成二进制，如下：

            0100    0100    1001    1010    0101    0010    0010    1100

按照 SEF 的格式分段，如下：
            0    10001001    00110100101001000101100

这个数值不是特殊的情形，可以按照公式(-1)S×2E-127×(1+F)转换。S    位的值为(-1)0=1， E 位 的 值 为 2137-127=1024 。 F 位 的 值 为 1+2-3+2-4+2-6+2-9+2-11+2-14+2-18+2-20+2-21= 1.205632686614990234375 。 最 终 结 果 为 1 × 1024 × 1.205632686614990234375=1234.56787109375。
其中 F 位比较长，使用二进制方式转换比较麻烦，也可以先转换成十六进制再计算， 转换为十六进制如下：

            0011   0100    1010    0100    0101    1000

            0x3      0x4        0xA      0x4       0x5       0x8

F 位为 23bits，需要在最后补一个 0 凑成 24bits，共  6 个十六进制数。F 位的值为 1+3
</code></pre><p>×16-1+4×16-2+10×16-3+4×16-4+5×16-5+8×16-6=1.205632686614990234375，与上面使用二<br>进制方法得到的结果相同。</p>
<pre><code>例 2，浮点数换算成二进制数：
下面我们将-987.654e30 换算成二进制数。我们先不看符号位，将 987.654e30 归一化为整 数 部 分 为 1 的 形 式 ， 也 就 是 写 作 987.654e30=2E-127 × （ 1+F ） 的 标 准 形 式 ， 因为F必然为一个1~2之间的数,所以可以直接让所求的数取2E-127   的对数凑出f的值 ,  其 中 E=log(987.654e30)/log2+127=109.6+127 ， 取 E 位 的 整 数 值 为 109+127=236 ， 再 求 F=987.654e30/2236-127-1=0.52172193，这个小数位数保留 8 位就够了，已经超出了 7 位的精度。
</code></pre><p>然后我们求小数部分的二进制数，这个转换就没啥好说的了，依次减去 2 的幂，从 2-1 一直<br>到 2-23，够减的位置 1，不够减的位置 0，例如，2-1 为 0.5，0.52172193-0.5=0.02172193，F 位的 bit22 置 1，2-2 为 0.25，0.02172193 不够减，F 位的 bit21 置 0，2-3 为 0.125，0.02172193 不够减，F 位的 bit20 置 0，2-4 为 0.0625，0.02172193 不够减，F 位的 bit19 置 0……，一直 算到 F 位的 bit0，这样就得到 F 位的数值。<br>    如果觉得使用二进制方式转换太麻烦的话也可以使用十六进制进行转换。16-1   为  0.0625，<br>0.52172193/0.0625=8.3，说明够减   8  个，记做   0x8，0.52172193-0.0625×8=0.02172193，16-2<br>为 0.00390625，0.02172193/0.00390625=5.6，说明够减 5 个，加上刚才的 0x8 记做 0x85，以 此类推：</p>
<pre><code>16 的-N 次幂    被减数    十六进制数    减后的数
</code></pre><p>1    0.0625    0.52172193    0x8    0.02172193<br>2    0.00390625    0.02172193    0x85    0.00219068<br>3    0.000244140625    0.00219068    0x858    0.000237555<br>4    0.0000152587890625    0.000237555    0x858F    0.0000086731640625<br>5    0.00000095367431640625    0.0000086731640625    0x858F9    0.00000009009521484375<br>6    0.000000059604644775390625    0.00000009009521484375    0x858F91     </p>
<pre><code>一直凑够 24bits ，也就是 6  个十六进制，得到 0x858F91，换算成二进制如下所示：

            1000    0101    1000    1111   1001    0001

由于只有 23bits 有效，因此需要去掉最后一个 bit，二进制本着 0 舍 1 入的原则，变成

            1000    0101    1000    1111   1001    001

最后需要再补上前面的 S 位和 E 位。由于是负数，S 位为 1。E 位为 236，二进制形式
</code></pre><p>为 1110 1100，将 S、E、F 位组合在一起就形成了：</p>
<pre><code>            1    1110 1100    1000    0101    1000    1111   1001    001

从左边最高位开始，4 个一组合并成十六进制：

            1111   0110    0100    0010    1100   0111    1100    1001

换算成十六进制为：

            0xF    0x6    0x4    0x2    0xC    0x7    0xC    0x9

综上所述，-987.654e30 换算成二进制数为 0xF642C7C9。
</code></pre><p>浮点数的精度<br>    在前面的 讲解中可以看到 1.xx 这个数量 级的最小数是 2-23，对应的 十进制数值 为 1.00000011920928955078125，可以精确表示到小数点后 23 位，但有些 C 语言书上却说 float 型的有效位只有  6~7  位，这是为什么？<br>    这是因为二进制小数与十进制小数没有完全一一对应的关系，二进制小数对于十进制小 数来说相当于是离散的而不是连续的，我们来看看下面这些数字：</p>
<pre><code>            二进制小数    十进制小数
            2-23    1.00000011920928955078125
            2-22    1.0000002384185791015625
            2-21    1.000000476837158203125
            2-20    1.00000095367431640625
            2-19    1.0000019073486328125
            2-18    1.000003814697265625

不看 S 位和 E 位，只看 F 位，上表列出了 1.xx 这个数量级的 6 个最小幂的二进制小数， 对 应 的 十 进 制 在 上 表 的 右 边 ， 可 以 看 到 使 用 二 进 制 所 能 表 示 的 最 小 小 数 是 1.00000011920928955078125，接下来是      1.0000002384185791015625，这两个数之间是有间
</code></pre><p>隔的，如果想用二进制小数来表示 8 位有效数（只算小数部分，小数点前面的 1 是隐藏的默<br>认值）1.00000002、1.00000003、1.00000004…这些数是无法办到的，而 7 位有效数 1.0000001<br>可以用 2-23 来表示，1.0000002 可以用 2-22 来表示，1.0000003 可以用 2-23+2-22 来表示。从这<br>个角度来看，float 型所能精确表示的位数只有 7 位，7 位之后的数虽然也是精确表示的，但 却无法表示任意一个想表示的数值。<br>但还是有一些例外的，比如说 7 位有效数 1.0000006 这个数就无法使用 F 位表示，二进 制小数对于十进制小数来说相当于是离散的，刚好凑不出  1.0000006  这个数，从这点来看  float<br>型所能精确表示的位数只有 6 位。至于 5 位有效值的任何数都是可以使用 F 位相加组合出<br>来的，即便是乘以 E 位的指数后也是可以准确表示出来的。因此 float 型的有效位数是 6~7 位，但这个说法应该不是非常准确，准确来说应该是 6位，C 语言的头文件中规定也是 6 位。</p>
<p>对于一个很大的数，比如说 1234567890，它是 F 位乘上 E 位的系数被放大了的，但它 的有效位仍然是 F 位所能表示的 6 位有效数字。1234567890 对应的二进制数是 0x4E932C06， 其中  F 位的数值为 1.1497809886932373046875，E 位的数值为 230=1073741824，1073741824×1.1497809886932373046875=1234567936，对比 1234567890，也只有高 7 位是有效位，后3 位是无效的。int 型定点数可以准确的表示 1234567890，而 float 浮点数则只能近似的表示<br>1234567890，精度问题决定了 float 型根本无法取代 int 型。</p>
<p>浮点数的比较<br>    从上面的讨论可以看出，float 型的有效位数是 6 位，那么我们在用 float 型运算时就要 注意了，来看下面这段程序：</p>
<p>#include <stdio.h></stdio.h></p>
<p>int main(void)<br>{<br>    float a = 9.87654321; float b = 9.87654322;</p>
<pre><code>if(a &gt; b)
{
printf(&quot;a &gt; b\n&quot;);
}
else if(a == b)
{
printf(&quot;a == b\n&quot;);
}
else
{
printf(&quot;a &lt; b\n&quot;);
}

return 0;
</code></pre><p>}</p>
<pre><code>按照我们平时的经验来说这段程序应该走 a &lt;  b 的分支，但程序运行的结果却走了  a == b 的分支，原因就是 float 型的精度问题，float 型无法区分出小数点后的第 8 位数，在内存 中，a 和 b 的二进制数都是 0x411E0652，因此就走了 a == b 的分支。
某些编译器在编译时会发现 a  和 b 的值超出了浮点数的精度，会产生一个告警，提示数 据超过精度，但有些编译器则不会做任何提示。最可怕的是有一类编译器，调试窗口里显示 的长度超出 float 型的精度，比如说 a 的值显示为 9.87654321，b 的值显示为 9.87654322，但 在运行时，硬件可不管这套，硬件认为这 2 个数都是  0x411E0652，因此实际运行结果是  a == b 的分支。以前就遇到过一个同学在 QQ  群里问一个类似的问题，在调试窗口里明明写着  a 是 9.87654321，小于 b 的 9.87654322，但运行结果却是 a ==b。当时我给他说了半天也没能 让他明白这个问题，希望他能有机会看到这个文档，希望他这次能够明白^_^。


由于精度这个问题的限制，我们在浮点数比较时就需要加一个可接受的精度条件来做判 决，比如说上面的这个问题，如果我们认为精度在 0.00001 就足够了，那么 a - b 之差的绝对 值只要小于 0.00001，我们就认为 a 和 b 的值是相等的，大于 0.00001 则认为不等，还要考 虑到 a  - b  正负等情况，因此可以将上面的程序改写为：
</code></pre><p>#include <stdio.h> int main(void)<br>{<br>    float a = 9.87654321; float b = 9.87654322;</stdio.h></p>
<pre><code>if(a - b &lt; -0.00001)
{
printf(&quot;a &lt; b\n&quot;);
}
else if(a - b &gt; 0.00001)
{
printf(&quot;a &gt; b\n&quot;);
}
else
{
printf(&quot;a == b\n&quot;);
}

return 0;
</code></pre><p>}</p>
<pre><code>例子中 a 和 b 之差的绝对值小于 0.00001，因此认为 a 和 b 是相等的，运行程序，也正 确的打印了 a == b。


也许你会觉得费了这么大的劲，最后 2 个程序运行的结果还是一样的，这不是画蛇添足 么？硬件已经自动考虑到精度问题了，为什么我们还要去再做一个精度的限定？这是因为我 们在应用中的精度往往要低于硬件的 6 位精度。比如说我们使用 2 个 AD 采集 2V 的电压， 并对这 2 个电压值做比较，一般要求精确到 0.1V 即可。实际情况下 AD 采集出来的数值都 会围绕真实值有上下的波动，比如说 AD 的精度是 0.001V，我们采集出的电压数值就可能 是 2.003V、2.001V、1.999V 等围绕 2V 波动的数值，如果我们在程序里不对精度加以限制 就对这些数值做比较，就会发现几乎每次采集到的电压值都是不同的。在这种情况下我们就 需要将精度设定为 0.1V，将上面例子中的 0.00001 改为 0.1，就可以正确的判断出每次采集 的电压值都是相同的了。
在实际使用 AD 采样时可能并不需要使用浮点数，我一般都是使用定点数来代替浮点数 进行处理的，请参考另一篇案例《C 语言使用定点数代替浮点数计算》。

下面我们再看一个例子：
</code></pre><p>#include <stdio.h></stdio.h></p>
<p>int main(void)<br>{<br>    float a = 987654321; float b = 987654322;</p>
<pre><code>if(a - b &lt; -0.00001)
{
printf(&quot;a &lt; b\n&quot;);
}
else if(a - b &gt; 0.00001)
{
printf(&quot;a &gt; b\n&quot;);
}
else
{
printf(&quot;a == b\n&quot;);
}

return 0;
</code></pre><p>}</p>
<pre><code>这个例子中的两个数都是很大的数，已经远远超过了 0.00001 的精度，运行结果是不是 应该是 a &lt; b？但程序运行的结果依然是 a == b。这是因为这个例子里的 a 和 b 并不是 1.xx 的数量级，我们将 a 和 b 进行归一化，都除以 900000000 就会发现 a = 1.09739369，b = 1.097393691，只是在第 9 位才出现不同，因此在 0.00001 这个精度下，这 2 个数还是相等的。 换个角度来看，a 和 b 虽然是很大的数了，但 F 位仅能表示 23bits，有效值仅有 6 位，a 和 b 的大是因为 E 位的指数放大 F 位表现出来的，但有效值依然是 6 位。在内存中 a 和 b 的二 进制数都是 0x4E6B79A3。其中 E 位为 156，2156-127=536870912，F 位为 0xD6F346，F 位 1.xx 数量级的 1.83964955806732177734375 被 E 位放大了 536870912 倍，E 位如果算 7 位有效精 度的话能精确到 0.0000001，乘以 536870912 已经被放大了 53 倍多，这就说明 a 和 b 的个位 与十位已经不是有效位数了，所以程序运行的结果表现出  a  ==  b  也是正常的。
由此可见，设定一个合理的精度是需要结合浮点数的数量级的，这看起来似乎比较难， 毕竟在程序运行时十分精确的跟踪每个浮点数的数量级并不容易实现，但实际应用中需要比 较的浮点数往往都会有其物理含义，例如上面电压的例子，因此，根据浮点数的物理含义， 浮点数的精度还是比较好确定的。当然在一些复杂的数值运算过程中可能会存在非常复杂的 情况，这时浮点数的精度问题就比较棘手了，所幸我所做的都是比较简单的东西，那些复杂 的情况就不讨论了，我也没能力讨论^_^。
上面所说的都是同等数量级下的浮点数进行比较的情况，不同数量级的浮点数比较则没 有这个限制，比如说 1.23456789 与 12.23456789 的比较，在 E 位已经足以区分大小了，因 此 F 位的精度就没有必要再比较了。
</code></pre><p>浮点数的加减<br>    二进制小数与十进制小数之间不存在一一对应的关系，因此某些十进制很整的加减法小 数运算由二进制小数来实现就表现出了不整的情况，来看下面的例子：</p>
<p>#include <stdio.h></stdio.h></p>
<p>int main(void)<br>{<br>    float a = 10.2; float b = 9; float c;</p>
<pre><code>c = a - b; printf(&quot;%f\n&quot;, c);
return 0;
</code></pre><p>}</p>
<pre><code>如果 用十进 制计算 的话变 量 c 应该 为 1.2，在 Visual C++ 2010 环境 下实验 输出为 1.200000，但实际上 c 变量的值是 1.1999998，只不过是在输出时被四舍五入为 1.200000 罢 了。在内存中 c 变量的二进制数是 0x3F999998，它对应的浮点数是 0.19999980926513671875。 如果我们将 printf 函数%f 的格式改为%.7f 格式，就会看到  c 变量输出的值是  1.1999998。
两个数量级相差很大的数做加减运算时，数值小的浮点数小数点部分会受精度限制而被忽略，看下 面的例子：
</code></pre><p>#include <stdio.h></stdio.h></p>
<p>int main(void)<br>{<br>    float a = 987654321; float b = 987.654322; float c;</p>
<pre><code>c = a + b; printf(&quot;%f\n&quot;, c);
return 0;
</code></pre><p>}</p>
<pre><code>Visual C++ 2010 上 的 计 算 结 果 为  987655296.000000 ， 而 实 际 的 真 实 值 为
</code></pre><p>987655308.654322，二进制值为  0x4E6B79B2  对应 987655296，就是  987655296.000000。可<br>以看出有效值是 6 位，如果按四舍五入的话可以精确到 8 位，其中变量 b 贡献的有效数值只 有 2 位。</p>
<p>987654321</p>
<ul>
<li><p>987.654322<br>—————- 987655308.654322    真实值<br>987655296.000000    计算值<br>987655296           二进制值，0x4E6B79B2</p>
<p>对于这种数量级相差很大的计算，计算结果会保证高位数有效，数量级小的数相对计算 结果显的太小了，不能按自身 6 位的精度保持，而是需要按照计算结果的 6 位精度保持。</p>
</li>
</ul>
<p>使用二进制数比较浮点数<br>    下面我们从另一个方向探索一下浮点数的比较问题。<br>    我们可以使用(-1)S×2E-127×(1+F)这个公式来计算 IEEE 754 标准规定的浮点数，先抛开<br>S 位和那 4 种特殊的规定，只看 E 位和 F 位 2E-127×(1+F)，我们会发现 E 位和 F 位组成的数<br>值具有单调递增性，也就是说任意一个浮点数 A 掩掉 S 位的数值 B = (A &amp; 0x7FFFFFFF)是 单调递增的，如果 A1 大于 A2，那么 B1 一定大于 B2，反之亦然，如果 B1 大于 B2，那么 A1 也一定大于 A2，这样的话我们就可以使用浮点数的二进制数来比较大小了。<br>    看下面程序，使用联合体将浮点数转换成二进制数再做比较：</p>
<p>#include <stdio.h></stdio.h></p>
<p>typedef union float_int<br>{<br>    float f; int i;<br>}FLOAT_INT;</p>
<p>int main(void)<br>{<br>    FLOAT_INT a; FLOAT_INT b;<br>    int ca; int cb;</p>
<pre><code>a.f = 9.87654321;
b.f = 9.87654322;

ca = a.i &amp; 0x7FFFFFFF; cb = b.i &amp; 0x7FFFFFFF;

if(ca &gt; cb)
{
printf(&quot;a &gt; b\n&quot;);
}
else if(ca == cb)
{
printf(&quot;a == b\n&quot;);
}
else
{
printf(&quot;a &lt; b\n&quot;);
}

return 0;
</code></pre><p>}</p>
<pre><code>上面的程序使用联合体使浮点型和整型共享同一个内存空间，浮点型变量.f 输入浮点 数，使用整型变量.i 就可以获取到.f 的二进制数，比较时利用.i 的 E 位和 F 位就可以判断浮 点数的绝对大小了，这个判决的精度为硬件所支持的精度。

如果考虑到 S 位，情况会有些变化。S 位是符号位，0 正 1 负，与 int 型的符号位有一 样的作用，并且都在 bit31。从这点来看，不对浮点数的二进制数进行(&amp; 0x7FFFFFFF)的操 作而是直接使用浮点数的二进制数来当做 int 型数做比较，那么浮点数的 S 位则正好可以充 当 int 型数的符 号位。两个比较的 浮点数都是正数 的情况就不用说了 ，上面的例子 (&amp; 0x7FFFFFFF)已经验证了。正浮点数与负浮点数比较的情况也没有问题，浮点数和 int 型数 的符号位是兼容的，符号位就可以直接比较出大小，比如说-9.87654321 和 9.87654322 之间 做比较，-9.87654321 的 bit31 是 1，9.87654322 的 bit31 是 0，从二进制 int 型数的角度来看， bit31 为 0 是正数，bit31 为 1 是负数，通过符号位就可以直接判断出大小。最后剩下两个负 浮点数比较的情况了，这种情况存在问题，如果采用二进制 int 型数来比较浮点数的话，结 果则正好相反，比如说-1.5 和-1.25 做比较，int 型数是用补码表示的，对于两个负数来说， 补码 的二进 制数值 越大则 补码值 也越大 。-1.5 的补 码是 0xBFC00000 ，-1.25 的补 码是 0xBFA00000 ， 从 二 进 制 角 度 来 看 0xBFC00000&gt;0xBFA00000 ， 因 此 int 的 补 码 是
</code></pre><p>0xBFC00000&gt;0xBFA00000，也就是-1077936128&gt;-1080033280，如果使用 int 型来判断，就 会得出-1.5 &gt; -1.25 的结论，正好相反了。这样的话我们就需要对两个浮点数的符号位做一个 判断，如果同为负数的话则需要将比较结果反一下，如下面程序：</p>
<p>#include <stdio.h></stdio.h></p>
<p>typedef union float_int<br>{<br>    float f; int i;<br>}FLOAT_INT;<br>int main(void)<br>{<br>    FLOAT_INT a; FLOAT_INT b;</p>
<pre><code>a.f = -9.876543;
b.f = -9.876542;

if((a.i &lt; 0) &amp;&amp; (b.i &lt; 0))
{
if(a.i &lt; b.i)
{
    printf(&quot;a &gt; b\n&quot;);
}
else if(a.i == b.i)
{
    printf(&quot;a == b\n&quot;);
}
else
{
    printf(&quot;a &lt; b\n&quot;);
}
}
else
{
if(a.i &gt; b.i)
{
    printf(&quot;a &gt; b\n&quot;);
}
else if(a.i == b.i)
{
    printf(&quot;a == b\n&quot;);
}
else
{
    printf(&quot;a &lt; b\n&quot;);
}
}
</code></pre><p>}</p>
<pre><code>如果再考虑 IEEE 754 标准定义的那几种特殊情况，问题变得又会复杂一些，比如说在 运算过程中有±x / 0 的情况出现，那么结果就是一个±无穷大的数，还有可能遇到±0 等情 况，这些问题在这里就不讨论，只要增加相应的条件分支就可以做出判断的。


使用二进制数比较浮点数的方法可以依据硬件精度判断出浮点数的真正大小，但实际使 用过程中往往不是根据硬件精度做判断的，因此最好还是使用上面所介绍的加入精度的判断 方法。
</code></pre><p>C 语言中有关浮点数的定义<br>    C 语言对浮点数做了一些规定，下面是摘自 Visual C++ 2010 头文件 float.h 中有关 float<br>型的定义，如下：</p>
<p>#define FLT_DIG    6            /<em> # of decimal digits of precision </em>/</p>
<p>#define FLT_EPSILON    1.192092896e-07F    /<em> smallest such that 1.0+FLT_EPSILON != 1.0 </em>/</p>
<p>#define FLT_GUARD    0     </p>
<p>#define FLT_MANT_DIG    24    /<em> # of bits in mantissa </em>/</p>
<p>#define FLT_MAX    3.402823466e+38F    /<em> max value </em>/</p>
<p>#define FLT_MAX_10_EXP    38    /<em> max decimal exponent </em>/</p>
<p>#define FLT_MAX_EXP    128    /<em> max binary exponent </em>/</p>
<p>#define FLT_MIN    1.175494351e-38F    /<em> min positive value </em>/</p>
<p>#define FLT_MIN_10_EXP    (-37)    /<em> min decimal exponent </em>/</p>
<p>#define FLT_MIN_EXP    (-125)    /<em> min binary exponent </em>/<br>    其中 FLT_DIG 定义了 float 型的十进制精度，是 6 位，与我们上面的讨论是一致的。<br>    FLT_EPSILON 定义了 float 型在 1.xx 数量级下的最小精度，1.xx 数量级下判断浮点数<br>是否为 0 可以使用这个精度。<br>    FLT_GUARD 不知道是啥意思–!<br>    FLT_MANT_DIG 定义了 float 型 F 位的长度。 FLT_MAX 定义了 float 型可表示的最大数值。<br>    FLT_MAX_10_EXP 定义了 float 型十进制的最大幂。<br>    FLT_MAX_EXP 定义了 float 型二进制的最大幂。 FLT_MIN 定义了 float 型所能表示的最小正数。 FLT_MIN_10_EXP 定义了 float 型十进制的最小幂。 FLT_MIN_EXP 定义了 float 型二进制的最小幂。</p>
<pre><code>float.h     文件里对其它的浮点数也做了规定，本文不再做介绍了。
</code></pre>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/08/符号表的应用/" itemprop="url">
                  符号表的应用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-08T22:53:15+08:00" content="2016-10-08">
              2016-10-08
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/08/符号表的应用/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/08/符号表的应用/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p>科学或是工程领域能够将运行效率提升一千亿倍的发明极少一一我们已经在几个例子中看到，符号表做到了，并且这些改进的影响非常深远。<br><em>算法 第四版</em></p>
</blockquote>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/10/08/符号表的应用/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/06/算法4-散列表/" itemprop="url">
                  算法4 散列表
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-06T23:08:28+08:00" content="2016-10-06">
              2016-10-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/算法4/" itemprop="url" rel="index">
                    <span itemprop="name">算法4</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/06/算法4-散列表/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/06/算法4-散列表/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p>All roads lead to Rome.</p>
</blockquote>
<h1 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h1><blockquote>
<p>通过算术操作将键转化为数组的索引以将键值对存储在数组中或来访问数组中的键值对</p>
</blockquote>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/10/06/算法4-散列表/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/05/python的装饰器/" itemprop="url">
                  python的装饰器
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-05T23:15:33+08:00" content="2016-10-05">
              2016-10-05
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/05/python的装饰器/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/05/python的装饰器/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p>有些面具戴得太久,就摘不下来了。<br><em>盗墓笔记</em></p>
</blockquote>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/10/05/python的装饰器/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/10/05/python的迭代器和生成器/" itemprop="url">
                  python的迭代器和生成器
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-10-05T23:10:59+08:00" content="2016-10-05">
              2016-10-05
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/10/05/python的迭代器和生成器/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/10/05/python的迭代器和生成器/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p>一尺之捶,日取其半,万世不竭<br><em>庄子</em></p>
</blockquote>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/10/05/python的迭代器和生成器/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/26/python-的文件读写和file-like-Object/" itemprop="url">
                  python 的文件读写和file-like Object
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-26T23:43:19+08:00" content="2016-09-26">
              2016-09-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/26/python-的文件读写和file-like-Object/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/26/python-的文件读写和file-like-Object/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p>In UNIX, everything is a file.</p>
</blockquote>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/09/26/python-的文件读写和file-like-Object/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/26/python函数的参数/" itemprop="url">
                  python函数的参数
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-26T23:17:45+08:00" content="2016-09-26">
              2016-09-26
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/26/python函数的参数/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/26/python函数的参数/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p>All roads lead to Rome.</p>
</blockquote>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/09/26/python函数的参数/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/25/算法4-平衡查找树/" itemprop="url">
                  算法4 平衡查找树
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-25T23:01:05+08:00" content="2016-09-25">
              2016-09-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/算法4/" itemprop="url" rel="index">
                    <span itemprop="name">算法4</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/25/算法4-平衡查找树/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/25/算法4-平衡查找树/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <blockquote class="blockquote-center"><p>天之道,损有余而补不足.<br><em>道德经</em></p>
</blockquote>
<p>目的:寻找一种数据结构,这种结构无论在任何插入情况下都能保证对数级别的运行时间.<br>
          <div class="post-more-link text-center">
            <a class="btn" href="/2016/09/25/算法4-平衡查找树/#more" rel="contents">
              阅读全文 &raquo;
            </a>
          </div>
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Luo" />
          <p class="site-author-name" itemprop="name">Luo</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">18</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">11</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/ly11tea" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.zhihu.com/people/yu-luo-99" target="_blank" title="知乎">
                  
                    <i class="fa fa-fw fa-question-circle"></i>
                  
                  知乎
                </a>
              </span>
            
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Luo</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"ly11tea"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;
            $('.popup').detach().appendTo('.header-inner');
            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });

                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>


  

  

  

</body>
</html>
